{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/login.service\";\nimport * as i3 from \"@angular/router\";\nexport class LoginComponent {\n  constructor(formBuilder, loginService, router) {\n    this.formBuilder = formBuilder;\n    this.loginService = loginService;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      username: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n  }\n  onSubmit() {\n    if (this.loginForm.invalid) {\n      return;\n    }\n    const username = this.loginForm.value.username;\n    const password = this.loginForm.value.password;\n    this.loginService.login(username, password).subscribe(response => {\n      // Handle successful login response\n      console.log(response);\n      const token = this.loginService.getCookie('jwt');\n      console.log(token);\n      // Store the token in local storage\n      localStorage.setItem('token', token);\n      if (response.user.role == 'candidate') {\n        console.log(response.user.role);\n        this.router.navigate(['/interview']);\n      } else {\n        this.router.navigate(['/admin']);\n      }\n    }, error => {\n      // Handle login error\n      console.log(error);\n    });\n    // Reset the form\n    this.loginForm.reset();\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.LoginService), i0.ɵɵdirectiveInject(i3.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 24,\n  vars: 1,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\"], [1, \"login-container\"], [1, \"logo-container\"], [\"src\", \"https://upload.wikimedia.org/wikipedia/commons/b/b6/Logo_ESPRIT_-_Tunisie.png\", \"alt\", \"Esprit Logo\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"username\"], [1, \"fas\", \"fa-user\", \"input-icon\"], [\"type\", \"text\", \"id\", \"username\", \"formControlName\", \"username\"], [\"for\", \"password\"], [1, \"fas\", \"fa-lock\", \"input-icon\"], [\"type\", \"password\", \"id\", \"password\", \"formControlName\", \"password\"], [\"type\", \"submit\"], [1, \"fas\", \"fa-sign-in-alt\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"head\")(1, \"title\");\n      i0.ɵɵtext(2, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"link\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"body\")(5, \"div\", 1)(6, \"div\", 2);\n      i0.ɵɵelement(7, \"img\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"h2\");\n      i0.ɵɵtext(9, \"Login for Admission Test\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_10_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(11, \"div\", 5)(12, \"label\", 6);\n      i0.ɵɵelement(13, \"i\", 7);\n      i0.ɵɵtext(14, \" Username:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 5)(17, \"label\", 9);\n      i0.ɵɵelement(18, \"i\", 10);\n      i0.ɵɵtext(19, \" Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 12);\n      i0.ɵɵelement(22, \"i\", 13);\n      i0.ɵɵtext(23, \" Login\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"body[_ngcontent-%COMP%] {\\n  background-color: #f2f2f2;\\n  font-family: Arial, sans-serif;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100vh;\\n}\\n\\n.login-container[_ngcontent-%COMP%] {\\n  width: 400px;\\n  padding: 20px;\\n  background-color: #ffffff;\\n  border-radius: 4px;\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\\n}\\n\\n.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 20px;\\n}\\n\\n.login-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 8px;\\n  font-weight: bold;\\n}\\n\\n.login-container[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=\\\"password\\\"][_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  box-sizing: border-box;\\n}\\n\\n.login-container[_ngcontent-%COMP%]   button[type=\\\"submit\\\"][_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  background-color: #4CAF50;\\n  border: none;\\n  color: white;\\n  cursor: pointer;\\n  border-radius: 4px;\\n  font-size: 16px;\\n}\\nh2[_ngcontent-%COMP%]{\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n  color: #c00000;;\\n}\\n.logo-container[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-bottom: 20px;\\n}\\n\\n.logo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  max-width: 150px;\\n}\\n\\n@media (max-width: 500px) {\\n  .login-container[_ngcontent-%COMP%] {\\n    width: 90%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXV0aGVudGljYXRpb24vbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUF5QjtFQUN6Qiw4QkFBOEI7RUFDOUIsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsYUFBYTtBQUNmOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLHdDQUF3QztBQUMxQzs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxjQUFjO0VBQ2Qsa0JBQWtCO0VBQ2xCLGlCQUFpQjtBQUNuQjs7QUFFQTs7RUFFRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixrQkFBa0I7RUFDbEIsc0JBQXNCO0FBQ3hCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLFlBQVk7RUFDWixlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7QUFDQTtFQUNFLDREQUE0RDtFQUM1RCxjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0U7SUFDRSxVQUFVO0VBQ1o7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbImJvZHkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMmYyZjI7XHJcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBoZWlnaHQ6IDEwMHZoO1xyXG59XHJcblxyXG4ubG9naW4tY29udGFpbmVyIHtcclxuICB3aWR0aDogNDAwcHg7XHJcbiAgcGFkZGluZzogMjBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICBib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG59XHJcblxyXG4ubG9naW4tY29udGFpbmVyIGgyIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLmxvZ2luLWNvbnRhaW5lciBsYWJlbCB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4ubG9naW4tY29udGFpbmVyIGlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxyXG4ubG9naW4tY29udGFpbmVyIGlucHV0W3R5cGU9XCJwYXNzd29yZFwiXSB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcblxyXG4ubG9naW4tY29udGFpbmVyIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG5oMntcclxuICBmb250LWZhbWlseTogJ1NlZ29lIFVJJywgVGFob21hLCBHZW5ldmEsIFZlcmRhbmEsIHNhbnMtc2VyaWY7XHJcbiAgY29sb3I6ICNjMDAwMDA7O1xyXG59XHJcbi5sb2dvLWNvbnRhaW5lciB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbn1cclxuXHJcbi5sb2dvLWNvbnRhaW5lciBpbWcge1xyXG4gIG1heC13aWR0aDogMTUwcHg7XHJcbn1cclxuXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA1MDBweCkge1xyXG4gIC5sb2dpbi1jb250YWluZXIge1xyXG4gICAgd2lkdGg6IDkwJTtcclxuICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["Validators","LoginComponent","constructor","formBuilder","loginService","router","ngOnInit","loginForm","group","username","required","password","onSubmit","invalid","value","login","subscribe","response","console","log","token","getCookie","localStorage","setItem","user","role","navigate","error","reset","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","LoginService","i3","Router","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","LoginComponent_Template_form_ngSubmit_10_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\arijs\\Desktop\\Application\\Frontend\\src\\app\\authentication\\login\\login.component.ts","C:\\Users\\arijs\\Desktop\\Application\\Frontend\\src\\app\\authentication\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { LoginService } from 'src/app/services/login.service';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  loginForm!: FormGroup;\n\n  constructor(private formBuilder: FormBuilder, private loginService: LoginService, private router: Router) { }\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      username: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n  }\n\n  onSubmit() {\n    if (this.loginForm.invalid) {\n      return;\n    }\n\n    const username = this.loginForm.value.username;\n    const password = this.loginForm.value.password;\n    this.loginService.login(username, password)\n      .subscribe(\n        response => {\n          // Handle successful login response\n          console.log(response);\n          const token = this.loginService.getCookie('jwt');\n          console.log(token)\n          // Store the token in local storage\n          localStorage.setItem('token', token);\n\n          if (response.user.role == 'candidate') {\n            console.log(response.user.role)\n            this.router.navigate(['/interview']);\n          } else {\n            this.router.navigate(['/admin']);\n          }\n\n        },\n        error => {\n          // Handle login error\n          console.log(error);\n        }\n      );\n    // Reset the form\n    this.loginForm.reset();\n  }\n}\n","<head>\n  <title>Login</title>\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css\">\n</head>\n<body>\n  <div class=\"login-container\">\n    <div class=\"logo-container\">\n      <img src=\"https://upload.wikimedia.org/wikipedia/commons/b/b6/Logo_ESPRIT_-_Tunisie.png\" alt=\"Esprit Logo\">\n    </div>\n    <h2>Login for Admission Test</h2>\n    <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\">\n      <div class=\"form-group\">\n        <label for=\"username\"><i class=\"fas fa-user input-icon\"></i> Username:</label>\n        <input type=\"text\" id=\"username\" formControlName=\"username\">\n      </div>\n      <div class=\"form-group\">\n        <label for=\"password\"><i class=\"fas fa-lock input-icon\"></i> Password:</label>\n        <input type=\"password\" id=\"password\" formControlName=\"password\">\n      </div>\n      <button type=\"submit\"><i class=\"fas fa-sign-in-alt\"></i> Login</button>\n    </form>\n  </div>\n</body>"],"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;AAQnE,OAAM,MAAOC,cAAc;EAGzBC,YAAoBC,WAAwB,EAAUC,YAA0B,EAAUC,MAAc;IAApF,KAAAF,WAAW,GAAXA,WAAW;IAAuB,KAAAC,YAAY,GAAZA,YAAY;IAAwB,KAAAC,MAAM,GAANA,MAAM;EAAY;EAE5GC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC;MACtCC,QAAQ,EAAE,CAAC,EAAE,EAAET,UAAU,CAACU,QAAQ,CAAC;MACnCC,QAAQ,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACU,QAAQ;KACnC,CAAC;EACJ;EAEAE,QAAQA,CAAA;IACN,IAAI,IAAI,CAACL,SAAS,CAACM,OAAO,EAAE;MAC1B;;IAGF,MAAMJ,QAAQ,GAAG,IAAI,CAACF,SAAS,CAACO,KAAK,CAACL,QAAQ;IAC9C,MAAME,QAAQ,GAAG,IAAI,CAACJ,SAAS,CAACO,KAAK,CAACH,QAAQ;IAC9C,IAAI,CAACP,YAAY,CAACW,KAAK,CAACN,QAAQ,EAAEE,QAAQ,CAAC,CACxCK,SAAS,CACRC,QAAQ,IAAG;MACT;MACAC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,MAAMG,KAAK,GAAG,IAAI,CAAChB,YAAY,CAACiB,SAAS,CAAC,KAAK,CAAC;MAChDH,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;MAClB;MACAE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;MAEpC,IAAIH,QAAQ,CAACO,IAAI,CAACC,IAAI,IAAI,WAAW,EAAE;QACrCP,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACO,IAAI,CAACC,IAAI,CAAC;QAC/B,IAAI,CAACpB,MAAM,CAACqB,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;OACrC,MAAM;QACL,IAAI,CAACrB,MAAM,CAACqB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;IAGpC,CAAC,EACDC,KAAK,IAAG;MACN;MACAT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;IACpB,CAAC,CACF;IACH;IACA,IAAI,CAACpB,SAAS,CAACqB,KAAK,EAAE;EACxB;;AA5CW3B,cAAc,C;mBAAdA,cAAc,EAAA4B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,YAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,MAAA;AAAA;AAAdnC,cAAc,C;QAAdA,cAAc;EAAAoC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCT3Bd,EAAA,CAAAgB,cAAA,WAAM;MACGhB,EAAA,CAAAiB,MAAA,YAAK;MAAAjB,EAAA,CAAAkB,YAAA,EAAQ;MACpBlB,EAAA,CAAAmB,SAAA,cAAyG;MAC3GnB,EAAA,CAAAkB,YAAA,EAAO;MACPlB,EAAA,CAAAgB,cAAA,WAAM;MAGAhB,EAAA,CAAAmB,SAAA,aAA2G;MAC7GnB,EAAA,CAAAkB,YAAA,EAAM;MACNlB,EAAA,CAAAgB,cAAA,SAAI;MAAAhB,EAAA,CAAAiB,MAAA,+BAAwB;MAAAjB,EAAA,CAAAkB,YAAA,EAAK;MACjClB,EAAA,CAAAgB,cAAA,eAAsD;MAAxBhB,EAAA,CAAAoB,UAAA,sBAAAC,kDAAA;QAAA,OAAYN,GAAA,CAAAhC,QAAA,EAAU;MAAA,EAAC;MACnDiB,EAAA,CAAAgB,cAAA,cAAwB;MACAhB,EAAA,CAAAmB,SAAA,YAAsC;MAACnB,EAAA,CAAAiB,MAAA,kBAAS;MAAAjB,EAAA,CAAAkB,YAAA,EAAQ;MAC9ElB,EAAA,CAAAmB,SAAA,gBAA4D;MAC9DnB,EAAA,CAAAkB,YAAA,EAAM;MACNlB,EAAA,CAAAgB,cAAA,cAAwB;MACAhB,EAAA,CAAAmB,SAAA,aAAsC;MAACnB,EAAA,CAAAiB,MAAA,kBAAS;MAAAjB,EAAA,CAAAkB,YAAA,EAAQ;MAC9ElB,EAAA,CAAAmB,SAAA,iBAAgE;MAClEnB,EAAA,CAAAkB,YAAA,EAAM;MACNlB,EAAA,CAAAgB,cAAA,kBAAsB;MAAAhB,EAAA,CAAAmB,SAAA,aAAkC;MAACnB,EAAA,CAAAiB,MAAA,cAAK;MAAAjB,EAAA,CAAAkB,YAAA,EAAS;;;MATnElB,EAAA,CAAAsB,SAAA,IAAuB;MAAvBtB,EAAA,CAAAuB,UAAA,cAAAR,GAAA,CAAArC,SAAA,CAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}